<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport"
		content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>QR section </title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
		integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="css/estilos.css">
	<script>
		function rev() {
			firebase.auth().onAuthStateChanged(function (user) {
				if (user) {
					// User is signed in.
					var user = firebase.auth().currentUser;

					if (user != null) {

						var email_id = user.email;
						document.getElementById("user_para").innerHTML = "Welcome User : " + email_id;
					}

				} else {
					// No user is signed in.
					window.location = "index.html";
					document.getElementById("user_div").style.display = "none";
					document.getElementById("login_div").style.display = "block";

				}
			});
		}
		function logout() {
			firebase.auth().signOut();
		}
	</script>

	<script>
		// Loading
		var Loading = (loadingDelayHidden = 0) => {
			let loading = null;
			const myLoadingDelayHidden = loadingDelayHidden;
			let imgs = [];
			let lenImgs = 0;
			let counterImgsLoading = 0;
			function incrementCounterImgs() {
				counterImgsLoading += 1;
				if (counterImgsLoading === lenImgs) {
					hideLoading()
				}
			}
			function hideLoading() {
				if (loading !== null) {
					loading.classList.remove('show');
					setTimeout(function () {
						loading.remove()
					}, myLoadingDelayHidden)
				}
			}
			function init() {
				document.addEventListener('DOMContentLoaded',
					function () {
						loading = document.querySelector('.loading');
						imgs = Array.from(document.images);
						lenImgs = imgs.length;
						if (imgs.length === 0) {
							hideLoading()
						} else {
							imgs.forEach(function (img) {
								img.addEventListener('load', incrementCounterImgs, false)
							})
						}
					})
			}
			return { 'init': init }
		}
		Loading(1000).init();
	</script>
</head>

<body onload="rev()">
	<style>
		.loading {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: white;
			display: flex;
			justify-content: center;
			align-items: center;
			z-index: 9999;
			transition: 1s all;
			opacity: 0;
		}

		.loading.show {
			opacity: 1;
		}

		.loading .spin {
			border: 3px solid hsla(185, 100%, 62%, 0.2);
			border-top-color: #3cefff;
			border-radius: 50%;
			width: 3em;
			height: 3em;
			animation: spin 1s linear infinite;
		}

		@keyframes spin {
			to {
				transform: rotate(360deg);
			}
		}
	</style>

	<div class="container">
		<div class="row">
			<div class="col">
				<img src="img/Historial.png">
			</div>
			<div class="col-md-4 align-self-center">
				<h5>Historial médico</h5>
			</div>
		</div>

		<div class="loading show">
			<div class="spin"></div>
		</div>

		<div class="card  align-content-center" style="width: 50rem;">
			<div class="card-body">
				<div class="container-fluid">
					<div class="row">
						<div class="col">
							<div class="form-check">
								<h5 class="card-title">Para revisar el Historial Médico:</h5>
								<h6 class="card-text">1. Abre la aplicación en tu teléfono</h6>
								<h6 class="card-text">2. Abre el menú y selecciona "Scan QR"</h6>
								<h6 class="card-text">3. Cuando se active la cámara, apunta tu teléfono hacia esta
									pantalla para escanear el código</h6>

							</div>

						</div>


						<div class="col-4">
							<div class="form-check">
								<img alt="Scan me!" style="display: block;"
									src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=index.html">
							</div>

						</div>
					</div>
				</div>

			</div>
		</div>
	</div>
	<script src="https://www.gstatic.com/firebasejs/4.8.1/firebase.js"></script>
	<script>
		// Initialize Firebase
		var firebaseConfig = {
			apiKey: "AIzaSyADzH0A_V_rBPtLzt0-ibqJPJOxjqmw514",
			authDomain: "sis22019.firebaseapp.com",
			databaseURL: "https://sis22019.firebaseio.com",
			projectId: "sis22019",
			storageBucket: "sis22019.appspot.com",
			messagingSenderId: "652240941407",
			appId: "1:652240941407:web:8a924537d8be9af0a7c6ea",
			measurementId: "G-RZXJ3ZLDQZ"
		};
		firebase.initializeApp(firebaseConfig);
	</script>



</body>

</html>